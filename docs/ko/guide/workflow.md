# 워크플로우

SDD Tool의 전체 워크플로우를 이해합니다.

## 워크플로우 다이어그램

```
┌─────────────────────────────────────────────────────────────┐
│                    SDD 워크플로우                             │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  1. /sdd.start        → 워크플로우 시작                      │
│     │                                                       │
│     ▼                                                       │
│  2. /sdd.constitution → 프로젝트 원칙 정의                   │
│     │                                                       │
│     ▼                                                       │
│  3. /sdd.spec         → 기능 명세 작성/수정 (spec.md)        │
│     │                                                       │
│     ▼                                                       │
│  4. /sdd.plan         → 구현 계획 수립 (plan.md)             │
│     │                                                       │
│     ▼                                                       │
│  5. /sdd.tasks        → 작업 분해 (tasks.md)                 │
│     │                                                       │
│     ▼                                                       │
│  6. /sdd.prepare      → 서브에이전트/스킬 점검                │
│     │                                                       │
│     ▼                                                       │
│  7. /sdd.implement    → 순차적 구현                          │
│     │                                                       │
│     ▼                                                       │
│  8. /sdd.validate     → 명세 검증                            │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

## 각 단계 상세

### 1. /sdd.start

프로젝트 상태를 분석하고 다음 작업을 안내합니다.

- **신규 프로젝트**: Constitution 작성 권장
- **기존 프로젝트**: 워크플로우 선택 메뉴 제공

### 2. /sdd.constitution

프로젝트의 핵심 원칙을 정의합니다.

- 핵심 원칙 (Core Principles)
- 기술 원칙 (Technical Principles)
- 금지 사항 (Forbidden)

### 3. /sdd.spec

기능 명세를 AI와 함께 작성하거나 수정합니다.

- 새 기능 작성과 기존 스펙 수정을 자동 판단
- RFC 2119 키워드 사용
- GIVEN-WHEN-THEN 시나리오

### 4. /sdd.plan

구현 계획을 수립합니다.

- 기술 결정사항과 근거
- 구현 단계(Phase) 정의
- 리스크 분석

### 5. /sdd.tasks

작업을 실행 가능한 단위로 분해합니다.

- 2-4시간 내 완료 가능한 크기
- 작업 간 의존성 표시
- 우선순위 설정

### 6. /sdd.prepare

구현에 필요한 도구를 점검합니다.

- 서브에이전트 확인
- 스킬 확인
- 누락된 도구 자동 생성

### 7. /sdd.implement

TDD 방식으로 순차적 구현합니다.

1. 작업 상태를 "진행 중"으로 변경
2. 테스트 작성
3. 코드 구현
4. 작업 상태를 "완료"로 변경

### 8. /sdd.validate

명세 검증을 수행합니다.

- RFC 2119 키워드 사용 여부
- GIVEN-WHEN-THEN 형식 준수
- 메타데이터 필수 필드 확인

## 변경 관리 워크플로우

기존 기능을 수정할 때:

```
/sdd.spec     → 스펙 수정 (기존 스펙 자동 감지)
    ↓
/sdd.impact   → 영향도 분석
    ↓
/sdd.apply    → 변경 적용
```

## 파일 구조

```
.sdd/
├── constitution.md     # 프로젝트 헌법
├── specs/              # 기능 명세
│   └── feature-name/
│       ├── spec.md     # 명세
│       ├── plan.md     # 구현 계획
│       └── tasks.md    # 작업 분해
├── changes/            # 변경 제안
└── archive/            # 완료된 변경
```
