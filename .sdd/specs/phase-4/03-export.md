---
id: phase4-export
title: "sdd export - 스펙 내보내기"
status: draft
version: 0.9.0
created: 2025-12-24
author: Claude
dependencies: []
---

# sdd export - 스펙 내보내기

> 스펙 문서를 HTML, PDF, JSON 등 다양한 형식으로 내보냅니다.

## 개요

스펙 문서를 팀원, 이해관계자, 외부 시스템과 공유하기 위해 다양한 형식으로 변환합니다.

## 요구사항

### REQ-01: HTML 내보내기

- 시스템은 스펙을 단일 HTML 파일로 내보내야 한다(SHALL)
- 시스템은 스타일이 포함된 반응형 HTML을 생성해야 한다(SHALL)
- 시스템은 목차(TOC)를 자동 생성해야 한다(SHALL)
- 시스템은 코드 블록에 구문 강조를 적용해야 한다(SHOULD)
- 시스템은 Mermaid 다이어그램을 렌더링해야 한다(SHOULD)

### REQ-02: PDF 내보내기

- 시스템은 스펙을 PDF 파일로 내보내야 한다(SHALL)
- 시스템은 페이지 번호와 헤더/푸터를 포함해야 한다(SHOULD)
- 시스템은 A4 및 Letter 용지 크기를 지원해야 한다(SHOULD)

### REQ-03: JSON 내보내기

- 시스템은 스펙을 구조화된 JSON으로 내보내야 한다(SHALL)
- 시스템은 요구사항, 시나리오를 별도 필드로 파싱해야 한다(SHALL)
- 시스템은 메타데이터를 포함해야 한다(SHALL)

### REQ-04: 일괄 내보내기

- 시스템은 전체 스펙을 하나의 문서로 병합해야 한다(SHALL)
- 시스템은 특정 스펙만 선택하여 내보내야 한다(SHOULD)
- 시스템은 스펙 간 의존성 순서로 정렬해야 한다(MAY)

### REQ-05: 템플릿 지원

- 시스템은 커스텀 HTML 템플릿을 지원해야 한다(MAY)
- 시스템은 기본 테마(light, dark)를 제공해야 한다(SHOULD)

## 시나리오

### Scenario 1: 단일 스펙 HTML 내보내기

- **GIVEN** user-auth 스펙이 존재할 때
- **WHEN** `sdd export user-auth --format html` 명령을 실행하면
- **THEN** user-auth.html 파일이 생성된다
- **AND** 목차와 스타일이 포함된다

### Scenario 2: 전체 스펙 PDF 내보내기

- **GIVEN** 여러 스펙이 존재할 때
- **WHEN** `sdd export --all --format pdf` 명령을 실행하면
- **THEN** specs.pdf 파일이 생성된다
- **AND** 모든 스펙이 순서대로 포함된다

### Scenario 3: JSON 내보내기

- **GIVEN** user-auth 스펙이 존재할 때
- **WHEN** `sdd export user-auth --format json` 명령을 실행하면
- **THEN** 구조화된 JSON 파일이 생성된다
- **AND** 요구사항과 시나리오가 파싱된다

### Scenario 4: 커스텀 출력 경로

- **GIVEN** 스펙이 존재할 때
- **WHEN** `sdd export --all -o ./docs/specs.html` 명령을 실행하면
- **THEN** 지정된 경로에 파일이 생성된다

## CLI 인터페이스

```bash
# 단일 스펙 내보내기
sdd export <feature-id> --format <format>

# 전체 스펙 내보내기
sdd export --all --format <format>

# 형식
--format html    # HTML (기본값)
--format pdf     # PDF
--format json    # JSON
--format docx    # Word 문서 (향후)

# 옵션
-o, --output <path>      # 출력 경로
--theme <name>           # 테마 (light, dark)
--template <path>        # 커스텀 템플릿
--toc                    # 목차 포함 (기본: true)
--no-toc                 # 목차 제외
--include-constitution   # Constitution 포함
--include-changes        # 변경 제안 포함
```

## 출력 예시

### HTML 구조

```html
<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>SDD 스펙: user-auth</title>
  <style>/* 내장 스타일 */</style>
</head>
<body>
  <nav class="toc">
    <h2>목차</h2>
    <ul>
      <li><a href="#req-001">REQ-001: 사용자 로그인</a></li>
      <li><a href="#scenario-1">Scenario 1: 성공적인 로그인</a></li>
    </ul>
  </nav>

  <main>
    <header>
      <h1>user-auth</h1>
      <div class="metadata">
        <span>상태: draft</span>
        <span>버전: 1.0.0</span>
        <span>작성일: 2025-12-24</span>
      </div>
    </header>

    <section id="requirements">
      <h2>요구사항</h2>
      <article id="req-001">
        <h3>REQ-001: 사용자 로그인</h3>
        <p>시스템은 이메일/비밀번호 로그인을 지원해야 한다(<strong class="rfc-shall">SHALL</strong>)</p>
      </article>
    </section>

    <section id="scenarios">
      <h2>시나리오</h2>
      <article id="scenario-1">
        <h3>Scenario 1: 성공적인 로그인</h3>
        <ul class="gwt">
          <li><strong>GIVEN</strong> 유효한 사용자 계정이 있을 때</li>
          <li><strong>WHEN</strong> 올바른 이메일과 비밀번호로 로그인하면</li>
          <li><strong>THEN</strong> JWT 토큰이 반환된다</li>
        </ul>
      </article>
    </section>
  </main>

  <footer>
    <p>Generated by SDD Tool v0.9.0</p>
  </footer>
</body>
</html>
```

### JSON 구조

```json
{
  "id": "user-auth",
  "title": "사용자 인증",
  "status": "draft",
  "version": "1.0.0",
  "created": "2025-12-24",
  "requirements": [
    {
      "id": "REQ-001",
      "title": "사용자 로그인",
      "description": "시스템은 이메일/비밀번호 로그인을 지원해야 한다",
      "keyword": "SHALL",
      "priority": "high"
    }
  ],
  "scenarios": [
    {
      "id": "scenario-1",
      "title": "성공적인 로그인",
      "given": ["유효한 사용자 계정이 있을 때"],
      "when": ["올바른 이메일과 비밀번호로 로그인하면"],
      "then": ["JWT 토큰이 반환된다"]
    }
  ],
  "dependencies": [],
  "metadata": {
    "constitution_version": "1.0.0",
    "author": "developer"
  }
}
```

## 기술 설계

### 핵심 모듈

```
src/core/export/
├── index.ts
├── html-exporter.ts    # HTML 생성
├── pdf-exporter.ts     # PDF 생성 (puppeteer)
├── json-exporter.ts    # JSON 변환
├── template-engine.ts  # 템플릿 렌더링
├── styles/
│   ├── light.css
│   └── dark.css
└── templates/
    ├── default.html
    └── minimal.html
```

### 의존성

```json
{
  "dependencies": {
    "puppeteer": "^21.0.0",    // PDF 생성
    "highlight.js": "^11.0.0", // 코드 강조
    "mermaid": "^10.0.0"       // 다이어그램
  }
}
```

### 데이터 구조

```typescript
interface ExportOptions {
  format: 'html' | 'pdf' | 'json' | 'docx';
  output?: string;
  theme?: 'light' | 'dark';
  template?: string;
  includeToc?: boolean;
  includeConstitution?: boolean;
  includeChanges?: boolean;
}

interface ExportResult {
  success: boolean;
  outputPath: string;
  format: string;
  specsExported: number;
  size: number;
}
```
